backend:
  name: git-gateway
  branch: main
  logo_url: "https://corpusdigitalis.github.io/copie-tristan-sans-java/portrait.jpg"

# 1. INTERFACE EN FRAN√áAIS
locale: 'fr'

# 2. GESTION DES FICHIERS (Propre et rang√©)
media_folder: "uploads"
public_folder: "uploads"

# 3. SUPPRESSION DE LA PR√âVISUALISATION
editor:
  preview: false

# Structure du formulaire d'administration
collections:
  - name: "pages"
    label: "G√âRER MON SITE"
    files:
      - name: "donnees"
        label: "üìù Modifier le contenu global"
        file: "data.json"
        fields:
          # === NOUVEAU : CONFIGURATION MENU & FOOTER ===
          # Cette section permet de cacher des pages ou modifier le footer
          - label: "‚öôÔ∏è Configuration (Menu & Footer)"
            name: "config"
            widget: "object"
            collapsed: true # Ferm√© par d√©faut pour ne pas g√™ner
            fields:
              - label: "MENU DU HAUT (Header)"
                name: "menu"
                widget: "list" # <-- C'est √ßa la cl√© : une liste illimit√©e
                summary: "{{fields.titre}}" # Affiche le nom du lien dans la liste
                fields:
                  - label: "Titre du lien"
                    name: "titre"
                    widget: "string"
                    hint: "Ex: Publications, Cours, Mon Universit√©..."
                  
                  - label: "Destination (Page ou URL)"
                    name: "url"
                    widget: "string"
                    # On aide le client avec la liste des pages qui existent
                    hint: "‚ö†Ô∏è Pages dispos : 'publications.html', 'interventions.html', 'cours.html'. Ou mettez un lien complet 'https://...'"
                fields:
                  - label: "Afficher 'Publications' ?"
                    name: "show_publi"
                    widget: "boolean"
                    default: true
                  - label: "Titre du lien (ex: Publications)"
                    name: "label_publi"
                    widget: "string"
                    default: "Publications"
                  
                  - label: "Afficher 'Interventions' ?"
                    name: "show_inter"
                    widget: "boolean"
                    default: true
                  - label: "Titre du lien (ex: Interventions)"
                    name: "label_inter"
                    widget: "string"
                    default: "Interventions"
                  
                  - label: "Afficher 'Cours' ?"
                    name: "show_cours"
                    widget: "boolean"
                    default: true
                  - label: "Titre du lien (ex: Cours)"
                    name: "label_cours"
                    widget: "string"
                    default: "Cours"

              - label: "PIED DE PAGE (Footer)"
                name: "footer"
                widget: "list"
                hint: "Ajoutez des liens (ex: Mentions l√©gales, Email, LinkedIn...)"
                fields:
                  - {label: "Nom du lien", name: "nom", widget: "string"}
                  - {label: "Lien URL (http...) ou Email (mailto:...)", name: "url", widget: "string", required: false}
                  - {label: "OU Document √† t√©l√©charger", name: "doc", widget: "file", required: false}

          # --- SECTION PROFIL ---
          - label: "üë§ Profil & Accueil"
            name: "profil"
            widget: "object"
            collapsed: false
            fields:
              - label: "Titre Accueil"
                name: "titre"
                widget: "string"
                hint: "Le grand titre sur la page d'accueil (ex: Bienvenue)."
              
              - label: "Biographie"
                name: "description"
                widget: "markdown" # Permet le gras et l'italique
                buttons: ["bold", "italic", "link", "bulleted-list"]
                editor_components: []
                hint: "Surlignez du texte pour le mettre en Gras ou Italique."
              
              - label: "Photo de profil"
                name: "image"
                widget: "image"
                hint: "Choisissez une image (format portrait conseill√©)."

          # --- SECTION PUBLICATIONS ---
          - label: "üìö Publications"
            name: "publications"
            widget: "list"
            collapsed: true
            fields:
              - label: "Cat√©gorie"
                name: "categorie"
                widget: "select"
                options: ["Articles de recherche", "Colloques", "Ouvrages", "Autres"]
                create: true
                hint: "Choisissez une cat√©gorie ou tapez-en une nouvelle."
              - label: "Titre / Description"
                name: "texte"
                widget: "string"
              - label: "Lien URL"
                name: "lien"
                widget: "string"
                hint: "Lien vers le site de l'√©diteur ou le PDF."
              - label: "Texte du bouton"
                name: "texteLien"
                widget: "string"
                default: "Voir"

          # --- SECTION INTERVENTIONS ---
          - label: "üé§ Interventions & Colloques"
            name: "interventions"
            widget: "list"
            collapsed: true
            fields:
              - label: "Date"
                name: "date"
                widget: "datetime" 
                time_format: false 
                format: "YYYY-MM-DD"
                hint: "Cliquez pour choisir la date."
              - label: "Lieu"
                name: "lieu"
                widget: "string"
              - label: "Type"
                name: "type"
                widget: "string"
                hint: "Ex: Colloque, S√©minaire..."
              - label: "Description"
                name: "description"
                widget: "text"
              - label: "Mots-cl√©s (Recherche)"
                name: "motsCles"
                widget: "string"
                hint: "Pour la barre de recherche (ex: ia, p√©dagogie)."
              - label: "Lien (Document/Slides)"
                name: "lien"
                widget: "string"
                required: false # FACULTATIF
                hint: "Lien vers les slides (facultatif)."

          # --- SECTION COURS ---
          - label: "üéì Cours & Enseignements"
            name: "cours"
            widget: "list"
            collapsed: true
            fields:
              - label: "Nom du Cours"
                name: "nom"
                widget: "string"
                hint: "Ex: Macro√©conomie L1."
              
              - label: "üìÇ Sections (Chapitres / TD)"
                name: "sections"
                widget: "list"
                hint: "Cr√©ez des groupes (ex: Cours Magistraux, Travaux Dirig√©s)."
                fields:
                  - label: "Titre de la section"
                    name: "titre"
                    widget: "string"
                    hint: "Ex: Slides CM, Fiches TD..."
                  
                  - label: "üìÑ Fichiers √† t√©l√©charger"
                    name: "fichiers"
                    widget: "list"
                    fields:
                      - label: "Nom affich√©"
                        name: "nom"
                        widget: "string"
                        hint: "Le nom du document tel qu'il appara√Ætra."
                      - label: "Fichier (PDF uniquement)"
                        name: "url"
                        widget: "file"
                        # C'est ici qu'on bloque psychologiquement les vid√©os
                        hint: "‚ö†Ô∏è PDF ou Image uniquement. Max 10Mo. Pour les vid√©os, mettez un lien YouTube."
